{% from "base/macros.html" import display_input %}
{% extends "base/base.html" %}

{% block content %}
<div class="row post-row fade">
    <!-- include the base title html-->
    {% include "base/_posts_title.html" %}
    <!--include each post card from base html -->
    <div class="col l9">
        {% if posts.items %}
        {% for post in posts.items %}
        {% include "base/_post_card.html" %}
        {% endfor %}
        {% else %}
   <p class="no-posts">Sorry no posts found</p>
        {% endif %}
    </div>
    <!-- Include the base search html -->
    {% include "base/_search.html" %}
    <!-- pagination buttons -->
    <div class="col s12">
        {% for page_num in posts.iter_pages(left_edge=1, right_edge=1, left_current=1, right_current=2) %}
            {% if page_num %}
                {% if posts.page == page_num %}
                <a class="btn pag-btn-active" href="{{ url_for('posts.all_posts', page=page_num) }}">{{ page_num }}</a>
                {% else %}
                <a class=" btn pag-btn" href="{{ url_for('posts.all_posts', page=page_num) }}">{{ page_num }}</a>
                {% endif%}
            {% else %}
            ...
            {% endif %}
        {% endfor %}

    </div>
</div>
{% endblock %}